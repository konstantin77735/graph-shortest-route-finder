{"version":3,"sources":["libs/sendForm.ts"],"names":[],"mappings":"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","file":"sendForm.js","sourcesContent":["\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const form = document.querySelector(\".footer-form .form\");\n    console.log(form);\n    const regEx = /^\\+?[78][-\\(]?\\d{3}\\)?-?\\d{3}-?\\d{2}-?\\d{2}$/;\n\n\n    const popup1 = new Popup({\n        targetSelector: '.popup-trigger',\n        overlaySelector: '.popup',\n        windowSelector: '.popup__window',\n        closeBtnSelector: '.popup__close',\n        displayPopup: 'flex',\n        popupHeight: '100vh',\n        popupWidth: '100%',\n        disappearingTime: 600, //ms transition disappearing time\n        disappearingType: 'linear', //default val: ease transition disappearing type\n        slidingTime: 500, //ms transition sliding time\n        slidingType: 'linear', //default val: ease transition sliding type\n        slidingDir: 'top', //default: left\n        //autocloseTime: 2000, //ms\n        closeOnMiss: true,\n        closeOnKeys: '27, 67, 88' //esc 27, c - 67, x - 88\n    });\n\n\n\n    form.addEventListener(\"submit\", e => {\n        e.preventDefault();\n        const name = document.querySelector(\".footer-form__input_name\").value.trim(),\n            phone = document.querySelector(\".footer-form__input_phone\").value.trim(),\n            textArea = document.querySelector(\".footer-form__input_textarea\").value.trim();\n        console.log(s);\n        const n = {\n            name: name,\n            tel: phone,\n            description: textArea,\n            toString() {\n                return `name=${this.name}&tel=${this.tel}&description=${this.description}`\n            }\n        }.toString();\n        if (\"\" != name && \"\" != phone && \"\" != textArea && regEx.test(phone)) {\n            console.log(`inputPhoneValue: ${phone}`);\n            const scriptPhp = \"/amoapi_landing/script.php\";\n            return popup1.appearance(\"Ваши данные успешно отправлены!\"),\n                function (e, t, i = null) {\n                    return new Promise((s, o) => {\n                        const p = new XMLHttpRequest;\n                        p.open(e, t), p.responseType = \"json\", p.setRequestHeader(\"Content-Type\", \"application/json\"), p.onerror = (() => {\n                            console.log(p.response)\n                        }), p.onload = (() => {\n                            p.status >= 400 ? o(p.response) : s(p.response)\n                        }), p.send(i)\n                    })\n                }(\"POST\", scriptPhp, n).then(e => console.log(e)).catch(e => console.log(e)), document.querySelector(\".footer-form__input_name\").value = \"\", document.querySelector(\".footer-form__input_phone\").value = \"\", document.querySelector(\".footer-form__input_textarea\").value = \"\", e.preventDefault(), !1\n        }\n        return popup1.appearance(\"Заполните все поля!\"), e.preventDefault(), !1\n    })\n});"]}